<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>utils/api/editor-framework/core/editor-package.js</title>
  <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
  <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
  <link rel="shortcut icon" type="image/ico" href="../assets/favicon.ico">
  <link rel="stylesheet" href="../assets/css/solarized_light.css">
  <script src="../assets/vendor/yui-min.js"></script>
</head>
<body>

<div id="doc">
  <header class="main-header">
    <div class="content">
      <div class="project-title">
        <a href="http://docs.fireball-x.com">
          <img class="logo" src="http://docs.fireball-x.com/images/logo.png" title="fireball">
        </a>
          <h1 class="project-name">fireball</h1>
          <span class="project-version">0.5.0</span>
          <p class="description">Fireball is the Html5 game engine for the future.</p>
        </div>
        <ul class="jump-links">
          <li><a href="#index" class="index-jump-link">index</a></li>
          <li><a href="#top" class="top-jump-link">top</a></li>
        </ul>
    </div>
  </header>
  <div id="bd" class="main-body">
    <div id="docs-sidebar" class="sidebar apidocs"><div id="api-list" style="height:100%">
  <div id="api-tabview" class="tabview" style="height:100%">
    <div id="api-tabview-filter">
      <input type="search" id="api-filter" placeholder="Type to filter APIs">
    </div>
    <div id="api-tabview-panel">
      <ul id="api-items" class="apis items">
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.html">Editor</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_selfExcluded">
                        selfExcluded
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_requireIpcEvent">
                        requireIpcEvent
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isNode">
                        isNode
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isElectron">
                        isElectron
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isNative">
                        isNative
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isPureWeb">
                        isPureWeb
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isPageLevel">
                        isPageLevel
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isCoreLevel">
                        isCoreLevel
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isDarwin">
                        isDarwin
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isWin32">
                        isWin32
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_isRetina">
                        isRetina
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_App">
                        App
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_cwd">
                        cwd
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_name">
                        name
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_versions">
                        versions
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_mainEntry">
                        mainEntry
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_frameworkPath">
                        frameworkPath
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#property_appHome">
                        appHome
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_log">
                        log
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_success">
                        success
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_failed">
                        failed
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_info">
                        info
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_warn">
                        warn
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_error">
                        error
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_fatal">
                        fatal
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_connectToConsole">
                        connectToConsole
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_clearLog">
                        clearLog
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_loadProfile">
                        loadProfile
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_quit">
                        quit
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_loadAllPackages">
                        loadAllPackages
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_watchPackages">
                        watchPackages
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_registerProfilePath">
                        registerProfilePath
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_registerPackagePath">
                        registerPackagePath
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_registerDefaultLayout">
                        registerDefaultLayout
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_">
                        
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToWindowsExclude">
                        sendToWindowsExclude
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToWindows">
                        sendToWindows
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToCore">
                        sendToCore
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToAll">
                        sendToAll
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToPanel">
                        sendToPanel
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToMainWindow">
                        sendToMainWindow
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_url">
                        url
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_require">
                        require
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_registerProtocol">
                        registerProtocol
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_require">
                        require
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_log">
                        log
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToCoreSync">
                        sendToCoreSync
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToCore">
                        sendToCore
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToWindows">
                        sendToWindows
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToMainWindow">
                        sendToMainWindow
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToAll">
                        sendToAll
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendToPanel">
                        sendToPanel
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_sendRequestToCore">
                        sendRequestToCore
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_cancelRequestToCore">
                        cancelRequestToCore
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.html#method_KeyCode">
                        KeyCode
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.Debugger.html">Editor.Debugger</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Debugger.html#method_toggle">
                        toggle
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Debugger.html#method_open">
                        open
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Debugger.html#method_close">
                        close
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.JS.html">Editor.JS</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_copyprop">
                        copyprop
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_addon">
                        addon
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_extract">
                        extract
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_mixin">
                        mixin
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_extend">
                        extend
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.JS.html#method_clear">
                        clear
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html">Editor.MainMenu</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html#method_apply">
                        apply
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html#method_reset">
                        reset
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html#method_add">
                        add
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html#method_remove">
                        remove
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.MainMenu.html#method_set">
                        set
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.Package.html">Editor.Package</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_load">
                        load
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_unload">
                        unload
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_reload">
                        reload
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_panelInfo">
                        panelInfo
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_widgetInfo">
                        widgetInfo
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_packageInfo">
                        packageInfo
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_packagePath">
                        packagePath
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Package.html#method_build">
                        build
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.Panel.html">Editor.Panel</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_open">
                        open
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_close">
                        close
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_findWindow">
                        findWindow
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_findWindows">
                        findWindows
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_findPanels">
                        findPanels
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Panel.html#method_closeAll">
                        closeAll
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.Selection.html">Editor.Selection</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_confirm">
                        confirm
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_cancel">
                        cancel
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_select">
                        select
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_unselect">
                        unselect
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_hover">
                        hover
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_setContext">
                        setContext
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_clear">
                        clear
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_hovering">
                        hovering
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_contexts">
                        contexts
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_curActivate">
                        curActivate
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_curSelection">
                        curSelection
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Selection.html#method_filter">
                        filter
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Editor.Utils.html">Editor.Utils</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Utils.html#method_padLeft">
                        padLeft
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Utils.html#method_formatFrame">
                        formatFrame
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Utils.html#method_smoothScale">
                        smoothScale
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Editor.Utils.html#method_wrapError">
                        wrapError
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="http:/docs.fireball-x.com/modules/Math.html">Math</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#property_TWO_PI">
                        TWO_PI
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#property_HALF_PI">
                        HALF_PI
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#property_D2R">
                        D2R
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#property_R">
                        R
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_deg2rad">
                        deg2rad
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_rad2deg">
                        rad2deg
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_rad180">
                        rad180
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_rad360">
                        rad360
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_deg180">
                        deg180
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_deg360">
                        deg360
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_randomRange">
                        randomRange
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_randomRangeInt">
                        randomRangeInt
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_clamp">
                        clamp
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_clamp01">
                        clamp01
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_calculateMaxRect">
                        calculateMaxRect
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/modules/Math.html#method_lerp">
                        lerp
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
              <a class="class" 
                href="http:/docs.fireball-x.com/classes/IpcListener.html" 
                title="Editor.IpcListener">Editor.IpcListener</a>
              <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/IpcListener.html#method_on">
                        on
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/IpcListener.html#method_once">
                        once
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/IpcListener.html#method_clear">
                        clear
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
              <a class="class" 
                href="http:/docs.fireball-x.com/classes/Menu.html" 
                title="Editor.Menu">Editor.Menu</a>
              <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_dispose">
                        dispose
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_reset">
                        reset
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_clear">
                        clear
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_add">
                        add
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_remove">
                        remove
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_set">
                        set
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Menu.html#method_parseTemplate">
                        parseTemplate
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
              <a class="class" 
                href="http:/docs.fireball-x.com/classes/Window.html" 
                title="Editor.Window">Editor.Window</a>
              <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#property_isMainWindo">
                        isMainWindo
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#property_isFocuse">
                        isFocuse
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#property_isMinimize">
                        isMinimize
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#property_isLoade">
                        isLoade
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#property_window">
                        window
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_load">
                        load
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_show">
                        show
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_close">
                        close
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_focus">
                        focus
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_minimize">
                        minimize
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_restore">
                        restore
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_openDevTools">
                        openDevTools
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_adjust">
                        adjust
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_commitWindowState">
                        commitWindowState
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_restorePositionAndSize">
                        restorePositionAndSize
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_find">
                        find
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_addWindow">
                        addWindow
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_removeWindow">
                        removeWindow
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_commitWindowStates">
                        commitWindowStates
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_saveWindowStates">
                        saveWindowStates
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_sendToPage">
                        sendToPage
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_sendRequestToPage">
                        sendRequestToPage
                      </a>
                    </li>
                    <li>
                      <a class="name" href="http:/docs.fireball-x.com/classes/Window.html#method_cancelRequestToPage">
                        cancelRequestToPage
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
</div>
    <div id="docs-main" class="apidocs">
      <div class="content container"><h1 class="file-heading">File: utils/api/editor-framework/core/editor-package.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
var NativeImage = require(&#x27;native-image&#x27;);
var Ipc = require(&#x27;ipc&#x27;);
var Path = require(&#x27;fire-path&#x27;);
var Fs = require(&#x27;fire-fs&#x27;);
var Del = require(&#x27;del&#x27;);
var Async = require(&#x27;async&#x27;);
var Semver = require(&#x27;semver&#x27;);

/**
 * Package module for manipulating packages
 * @module Editor.Package
 */
var Package = {};
var _path2package = {};
var _name2packagePath = {};
var _panel2info = {};
var _widget2info = {};

function _build ( packageObj, cb ) {
    if ( packageObj.build ) {
        // check if bin/dev exists
        var binPath = Path.join( packageObj._path, &#x27;bin/dev&#x27; );
        if ( Fs.existsSync(binPath) ) {
            // check if bin/dev/package.json have the same version
            var binPackageObj = JSON.parse(Fs.readFileSync( Path.join( binPath, &#x27;package.json&#x27;)));
            if ( packageObj.version === binPackageObj.version ) {
                if ( cb ) cb ( null, binPath );
                return;
            }
        }

        Editor.log( &#x27;Building &#x27; + packageObj.name );
        Package.build( packageObj._path, cb );
        return;
    }

    if ( cb ) cb ( null, packageObj._path );
}

/**
 * Load a package at path
 * @method load
 * @param {string} path - An absolute path point to a package folder
 * @param {function} cb - Callback when finish loading
 */
Package.load = function ( path, cb ) {
    if ( _path2package[path] ) {
        if ( cb ) cb ();
        return;
    }

    var packageJsonPath = Path.join( path, &#x27;package.json&#x27; );
    var packageObj;
    try {
        packageObj = JSON.parse(Fs.readFileSync(packageJsonPath));
    }
    catch (err) {
        Editor.error( &#x27;Failed to load package.json at %s, message: %s&#x27;, path, err.message );
        if ( cb ) cb ();
        return;
    }

    // check host, if we don&#x27;t have the host, skip load it
    for ( var host in packageObj.hosts ) {
        var currentVer = Editor.versions[host];
        if ( !currentVer ) {
            Editor.failed( &#x27;Skip loading %s, host %s not exists.&#x27;, packageObj.name, host );
            if ( cb ) cb ();
            return;
        }

        var requireVer = packageObj.hosts[host];
        if ( !Semver.satisfies( currentVer, requireVer ) ) {
            Editor.failed( &#x27;Skip loading %s, host %s require ver %s.&#x27;, packageObj.name, host, requireVer );
            if ( cb ) cb ();
            return;
        }
    }

    //
    packageObj._path = path;
    _build ( packageObj, function ( err, destPath ) {
        packageObj._destPath = destPath;

        // load main.js
        if ( packageObj.main ) {
            var main;
            var mainPath = Path.join( destPath, packageObj.main );
            try {
                main = require(mainPath);
                if ( main &amp;&amp; main.load ) {
                    main.load();
                }
            }
            catch (e) {
                Editor.failed( &#x27;Failed to load %s from %s. %s.&#x27;, packageObj.main, packageObj.name, e.stack );
                if ( cb ) cb ();
                return;
            }

            // register main ipcs
            var ipcListener = new Editor.IpcListener();
            for ( var prop in main ) {
                if ( prop === &#x27;load&#x27; || prop === &#x27;unload&#x27; )
                    continue;

                if ( typeof main[prop] === &#x27;function&#x27; ) {
                    ipcListener.on( prop, main[prop].bind(main) );
                }
            }
            packageObj._ipc = ipcListener;
        }

        // register menu
        if ( packageObj.menus &amp;&amp; typeof packageObj.menus === &#x27;object&#x27; ) {
            for ( var menuPath in packageObj.menus ) {
                var parentMenuPath = Path.dirname(menuPath);
                if ( parentMenuPath === &#x27;.&#x27; ) {
                    Editor.error( &#x27;Can not add menu %s at root.&#x27;, menuPath );
                    continue;
                }

                var menuOpts = packageObj.menus[menuPath];
                var template = Editor.JS.mixin( {
                    label: Path.basename(menuPath),
                }, menuOpts );

                // create NativeImage for icon
                if ( menuOpts.icon ) {
                    var icon = NativeImage.createFromPath( Path.join(destPath, menuOpts.icon) );
                    template.icon = icon;
                }

                Editor.MainMenu.add( parentMenuPath, template );
            }
        }

        // register panel
        if ( packageObj.panels &amp;&amp; typeof packageObj.panels === &#x27;object&#x27; ) {
            for ( var panelName in packageObj.panels ) {
                var panelID = packageObj.name + &#x27;.&#x27; + panelName;
                if ( _panel2info[panelID] ) {
                    Editor.error( &#x27;Failed to load panel \&#x27;%s\&#x27; from \&#x27;%s\&#x27;, already exists.&#x27;, panelName, packageObj.name );
                    continue;
                }

                // setup default properties
                var panelInfo = packageObj.panels[panelName];
                Editor.JS.addon(panelInfo, {
                    type: &#x27;dockable&#x27;,
                    title: panelID,
                    popable: true,
                    messages: [],
                    path: destPath,
                });

                //
                _panel2info[panelID] = panelInfo;
            }
        }

        // register widget
        if ( packageObj.widgets &amp;&amp; typeof packageObj.widgets === &#x27;object&#x27; ) {
            for ( var widgetName in packageObj.widgets ) {
                if ( _widget2info[widgetName] ) {
                    Editor.error( &#x27;Failed to register widget \&#x27;%s\&#x27; from \&#x27;%s\&#x27;, already exists.&#x27;, widgetName, packageObj.name );
                    continue;
                }
                var widgetPath = packageObj.widgets[widgetName];
                _widget2info[widgetName] = {
                    path: Path.join( destPath, Path.dirname(widgetPath) ),
                };
            }
        }

        //
        _path2package[path] = packageObj;
        _name2packagePath[packageObj.name] = path;
        Editor.success(&#x27;%s loaded&#x27;, packageObj.name);
        Editor.sendToWindows(&#x27;package:loaded&#x27;, packageObj.name);

        if ( cb ) cb ();
    });
};

/**
 * Unload a package at path
 * @method unload
 * @param {string} path - An absolute path point to a package folder
 * @param {function} cb - Callback when finish unloading
 */
Package.unload = function ( path, cb ) {
    var packageObj = _path2package[path];
    if ( !packageObj ) {
        if ( cb ) cb ();
        return;
    }

    // unregister panel
    if ( packageObj.panels &amp;&amp; typeof packageObj.panels === &#x27;object&#x27; ) {
        for ( var panelName in packageObj.panels ) {
            var panelID = packageObj.name + &#x27;.&#x27; + panelName;
            delete _panel2info[panelID];
        }
    }

    // unregister widget
    if ( packageObj.widgets &amp;&amp; typeof packageObj.widgets === &#x27;object&#x27; ) {
        for ( var widgetName in packageObj.widgets ) {
            delete _widget2info[widgetName];
        }
    }

    // unregister menu
    if ( packageObj.menus &amp;&amp; typeof packageObj.menus === &#x27;object&#x27; ) {
        for ( var menuPath in packageObj.menus ) {
            Editor.MainMenu.remove( menuPath );
        }
    }

    // unload main.js
    if ( packageObj.main ) {
        // unregister main ipcs
        packageObj._ipc.clear();

        // unload main
        var cache = require.cache;
        var mainPath = Path.join( packageObj._destPath, packageObj.main );
        var module = cache[mainPath];
        try {
            if ( module ) {
                var main = module.exports;
                if ( main &amp;&amp; main.unload ) {
                    main.unload();
                }
            }
        }
        catch (err) {
            Editor.failed( &#x27;Failed to unload %s from %s. %s.&#x27;, packageObj.main, packageObj.name, err.stack );
        }
        delete cache[mainPath];
    }

    //
    delete _path2package[path];
    delete _name2packagePath[packageObj.name];
    Editor.success(&#x27;%s unloaded&#x27;, packageObj.name);
    Editor.sendToWindows(&#x27;package:unloaded&#x27;, packageObj.name);

    if ( cb ) cb ();
};

/**
 * Reload a package at path
 * @method reload
 * @param {string} path - An absolute path point to a package folder
 * @param {object} opts - Options
 * @param {Boolean} opts.rebuild - If rebuild the project
 * @param {function} cb - Callback when finish reloading
 */
Package.reload = function ( path, opts, cb ) {
    opts = opts || {};
    var rebuild = (typeof opts.rebuild === &#x27;boolean&#x27;) ? opts.rebuild : true;

    Async.series([
        function ( next ) {
            var packageObj = _path2package[path];
            if ( !packageObj ) {
                next ();
                return;
            }

            if ( rebuild &amp;&amp; packageObj.build ) {
                Editor.log( &#x27;Rebuilding &#x27; + packageObj.name );
                Package.build( path, next );
            }
            else {
                next ();
            }
        },

        function ( next ) {
            Package.unload(path, next);
        },

        function ( next ) {
            Package.load(path, next);
        },
    ], function ( err ) {
        if (cb) cb ( err );
    });
};

/**
 * Find and get panel info via panelID, the panel info is the json object
 * that defined in &#x60;panels.{panel-name}&#x60; in your package.json
 * @method panelInfo
 * @param {string} panelID
 * @return {object}
 */
Package.panelInfo = function ( panelID ) {
    return _panel2info[panelID];
};

/**
 * Find and get panel info via widgetName, the widget info is the json object
 * that defined in &#x60;widgets.{widget-name}&#x60; in your package.json
 * @method widgetInfo
 * @param {string} widgetName
 * @return {object}
 */
Package.widgetInfo = function ( widgetName ) {
    return _widget2info[widgetName];
};

/**
 * Find and get package info via path, the package info is the json object of your package.json file
 * @method packageInfo
 * @param {string} path - The path can be any files in this package
 * @return {object}
 */
Package.packageInfo = function ( path ) {
    for ( var p in _path2package ) {
        if ( Path.contains( p, path )  ) {
            return _path2package[p];
        }
    }
    return null;
};

/**
 * Return the path of the package by name
 * @method packagePath
 * @param {string} packageName
 * @return {string}
 */
Package.packagePath = function ( packageName ) {
    return _name2packagePath[packageName];
};

/**
 * Build package at path
 * @method build
 * @param {string} path
 * @param {function} callback
 * @return {string}
 */
Package.build = function ( path, cb ) {
    var BuildPackage = require(&#x27;./build-package&#x27;);
    BuildPackage.start({
        path: path,
        minify: false,
        babel: false,
    }, function ( err ) {
        if ( err ) {
            Editor.error(&#x27;Failed to build package at %s, %s&#x27;, path, err.message );
        }
        if ( cb ) cb ( err, Path.join(path, &#x27;bin/dev&#x27;) );
    });
};

// ========================================
// Ipc
// ========================================

Ipc.on(&#x27;package:query-infos&#x27;, function ( reply ) {
    var builtinPath = Path.join( Editor.App.path, &#x27;builtin&#x27; );
    var results = [];

    for ( var path in _path2package ) {
        results.push({
            path: path,
            builtin: Path.contains( builtinPath, path ),
            enabled: true, // TODO:
            info: _path2package[path],
        });
    }

    reply(results);
});

Ipc.on(&#x27;package:query-info&#x27;, function ( reply, name ) {
    var path = _name2packagePath[name];
    var info = _path2package[path];
    var builtinPath = Path.join( Editor.App.path, &#x27;builtin&#x27; );

    reply({
        path: path,
        builtin: Path.contains( builtinPath, path ),
        enabled: true, // TODO:
        info: info,
    });
});

Ipc.on(&#x27;package:reload&#x27;, function ( name ) {
    var path = _name2packagePath[name];
    if ( !path ) {
        Editor.error(&#x27;Failed to reload package %s, not found&#x27;, name);
        return;
    }

    Package.reload(path);
});

module.exports = Package;

    </pre>
</div>
</div>
    </div>
  </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/vendor/jquery.min.js"></script>
<script src="../assets/js/jquery-offscreen-trigger.js"></script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/apidocs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
