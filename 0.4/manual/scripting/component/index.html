<!DOCTYPE html>
<html lang="zh">
  <head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Component Overview | Fireball Docs</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://docs.fireball-x.com/0.4/manual/scripting/component/index.html">
  <!-- Alternative links -->
  
    
      
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->

  
  <link rel="stylesheet" href="/css/anchor.css" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/tomorrow.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!-- endbuild -->
  <!-- RSS -->
  <link rel="alternative" href="/atom.xml" title="Fireball Docs" type="application/atom+xml">
  <!-- Open Graph -->
  
    
    
  
  <!-- Swiftype -->
  
  <!-- Google Analytics -->
  
</head>


  
    <div id="full-wrap">
      <div class="container-fluid">
        <header>
    <nav class="navbar navbar-inverse">
        <div class="container navbar-wrapper">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">
                    <img alt="logo" src="/images/logo.png">
                </a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    
                    <li ><a href="/">Home</a></li>
                    
                    <li ><a href="/manual/index">Manual</a></li>
                    
                    <li ><a href="/editor/index">Extending Editor</a></li>
                    
                    <li ><a href="/api">API</a></li>
                    
                    <li ><a href="http://fireball-x.com/en">Fireball</a></li>
                    
                    <li ><a href="http://docs-zh.fireball-x.com">中文</a></li>
                    
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
                </ul>
            </div>

        </div>
    </nav>
</header>

      </div>
      <div class="container">
        <div class="container sidebar">
    <aside id="sidebar" role="navigation">
  <div class="inner">
      <ul class="nav nav-pills nav-stacked"><li role="presentation" class="sidebar-title"><strong class="sidebar-title">Navigation</strong></li><li role="presentation"><a role="button" href="#top">back to top</a></li><li role="presentation"><a role="button" href="https://github.com/fireball-x/docs-en/edit/master/source/_data/sidebar_0.4.yml">edit sidebar</a></li></ul>
  </div>
</aside>
</div>
<div class="container content-wrap">
    <div class="row">
        <div class="col-lg-8 col-md-7 col-sm-9">
            <div class="title-header" id="top">
                <h1>Component Overview</h1>
            </div>
            <div>
                <ol class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/"></a></li>
                    <li class="active">Component Overview</li>
                </ol>
            </div>
            <p>Most features in Fireball are provided by Components, the entrance of Fire-shell script execution. Various types of gameplay can be implemented by Components, such as entity controlling, event broadcasting, property modifying and user input handling.</p>
<p>Same as Fireball itself, Components run in Javascript. JavaScript is a quick-start programming language. You might want to check the <a href="/manual/scripting/javascript-primer">JavaScript Primer</a> for basics. On the other hand, other languages are supported by Fireball, such as CoffeeScript and TypeScript, which can be smoothly compiled to JavaScript.</p>
<h2 id="Creating_Scripts">Creating Scripts</h2><p>Different from other kinds of resources, scripts are normally created in Fireball directly, which can be done by right-clicking your mouse button in the Assets panel, or, clicking the adding button in the upper-left corner and choose <code>Create &gt; New Script</code>.</p>
<p>Note:</p>
<ul>
<li>The file name will be used for the Component class name and the references among scripts, so it is suggested to rename your script as soon as they are created.</li>
<li>Scripts with same file names are not allowed.</li>
</ul>
<h2 id="Getting_Started_with_Scripts">Getting Started with Scripts</h2><p>Double clicking a script in Fireball will open it with the built-in code editor. Let’s create a script named <code>Player.js</code> and open it. The default code should look like this:</p>
<pre><code class="js">// Player.js

var Comp = Fire.Class({
    extends: Fire.Component,

    // use this for initialization
    start: function () {

    },

    // called every frame
    update: function () {

    }
});
</code></pre>
<p>The script above is recognized in Fireball because it inherits <code>Fire.Component</code>, the base class for all Components. Defining a class that inherits <code>Fire.Component</code> can be considered as creating a Component template. Once this script is attached to an entity, the template will be used to create a Component instance.</p>
<h2 id="Getting_Started_with_Components">Getting Started with Components</h2><p><code>Fire.Class({...})</code> defines a class, in which <code>extends: Fire.Component</code> suggests the inheritance (or extension) of the <code>Fire.Component</code> class. Fireball sets the class name to <code>Player</code> automatically since Components use the script file name as its class name, and the script is named as <em>Player.js</em>.</p>
<p><code>var Comp</code> declares a variable, and is assigned to the class returned by <code>Fire.Class</code> afterwards. It is a normal JavaScript local variable that holds the reference of a class, and can be named as you please without considering the actual class name <code>Player</code>. Actually, you don’t even need to declare this variable if the returned class of <code>Fire.Class</code> won’t be used further in this script (as what we’ve done here).</p>
<p><code>update: function () {...};</code> is for defining the <strong>update</strong> callback function. The <code>update</code> function is called by Fireball before the rendering of every frame. Actions that can be done in <code>update</code> function are often those continuously happen in gameplay, like triggering behaviours, handling interactions, etc.</p>
<p><code>start: function () {...};</code> is for defining the <strong>start</strong> callback function. The <code>onStart</code> function is called by Fireball before the first <code>update</code> call. You can put your initialization code into <code>start</code>.</p>
<p>Note:</p>
<ul>
<li>We will use <strong>FireClass</strong> to refer to the types defined by <code>Fire.Class</code>. The only difference between Components and FireClasses is that the class names of Components are retrieved automatically from their scripts. Further details can be learned from <a href="/manual/scripting/class">Define Class</a>.</li>
<li>For experienced users, we suggest to put logical processing code into Fireball callbacks (e.g. <code>start</code>). Although constructors are perfectly legal to define, it’d be better to use them for member variable declaring.</li>
</ul>
<h2 id="Attaching_to_Entity">Attaching to Entity</h2><p>As mentioned, scripts are templates of Component definition. Code inside won’t be executed until an instance is created in an entity. To do that, please drag the script from the Asset Panel to the Inspector Panel that is currenly presenting the entity properties (i.e. you’ll need to choose the desire entity first, in the Hierarchy Panel or the Scene Panel). Or, you can click the adding button in the Inspector Panel and select your script in the sub-menu of <code>Scripts</code>. Once done by either way, your <code>Player</code> component will be attached to the entity and look like the same as other Fireball built-in Components.</p>
<p>The Component will be executed as soon as you click Play to run the game. It can be verified by adding some code in <code>start</code>:</p>
<pre><code class="js">// use this for initialization
start: function () {
    Fire.log(&#39;Hello Fireball!&#39;);
}
</code></pre>
<p><code>Fire.log</code> is a useful function to print log information to Fireball Console Panel. Run the game again, and you’ll see <code>Hello Fireball!</code> in the Console.</p>
<h2 id="Showing_Properties_in_Inspector"><a name="show-in-inspector"></a>Showing Properties in Inspector</h2><p>It is possible to check and edit Component properties outside the code, including the one you just created, in Fireball Inspector Panel.</p>
<pre><code class="js">// Player.js

var Player = Fire.Class({
    extends: Fire.Component,

    properties {
        playerName: &#39;&#39;,
    },

    // use this for initialization
    start: function () {
        Fire.log(&quot;My name is&quot;, this.playerName);
    },

    // called every frame
    update: function () {
        // ...
    };
});
</code></pre>
<p>The script will add an input control in the Inspector for <code>playerName</code>. You might be glad to know that the Inspector will display the camel naming styled <code>playerName</code> as a more readable name: <code>Player Name</code>.</p>
<p><img src="/manual/scripting/component/player-name-in-inspector.png" alt="player-name-in-inspector"></p>
<p>Try to change <code>Player Name</code> and run the game. In our example, the Console will print “My name is Duang Duang”. In fact, Fireball allows you to change properties in run-time, which is quite useful for debugging. After stopping, property values will be reset to those before game running, which means that you can modify and test game objects during game running without worrying about ruining your unsaved work.</p>

            <div>
                <hr>
                <a href="#">Edit This Page</a>
            </div>
            <div id="discourse-comments"></div>
            <div class="footer">
                <footer id="footer" class="wrapper">
    <div id="footer-copyright">
      &copy; 2015 <a href="http://fireball-x.com/" target="_blank">Fireball Developers</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
</footer>

            </div>
        </div>
        <div class="col-lg-1 col-md-2 hidden-sm hidden-xs">
            <aside id="article-toc" role="navigation" class="fixed">
                <div id="article-toc-inner">
                    <strong class="sidebar-title">TOC</strong>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating_Scripts"><span class="toc-text">Creating Scripts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting_Started_with_Scripts"><span class="toc-text">Getting Started with Scripts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting_Started_with_Components"><span class="toc-text">Getting Started with Components</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Attaching_to_Entity"><span class="toc-text">Attaching to Entity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Showing_Properties_in_Inspector"><span class="toc-text">Showing Properties in Inspector</span></a></li></ol>
                    <a href="#top" id="article-toc-top">back to top</a>
                </div>
            </aside>
        </div>
    </div>
</div>




  
  
    
    
      
      
        
        
        
        
        
        
        
        
        
        
        
        
      
      
      
      
        
        
        
      
      
    
    
    
  
  


      </div>
    </div>
    <!-- Scripts -->
<!-- build:js build/js/main.js -->
<!-- endbuild -->


<!-- Plugin search -->



<!--bootstrap -->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/js/bootstrap.min.js" type="text/javascript"></script>

    <script src="/js/toc.js" type="text/javascript"></script>

<script src="/js/anchor.min.js" type="text/javascript"></script>
<script type="text/javascript">
  hljs.initHighlightingOnLoad();
  addAnchors('.content-wrap h1, .content-wrap h2, .content-wrap h3');
</script>
<!-- Swiftype -->

  
  
  
  

  

<!--discourse comment -->


    
    
    

    
        
        
        
    


  </body>
</html>
